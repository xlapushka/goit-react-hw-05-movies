"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[823],{458:function(e,t,s){var i=s(643),r=s(223),a=s(184);t.Z=function(){return(0,a.jsx)("div",{className:r.Z.loader,children:(0,a.jsx)(i.g4,{height:"60",width:"60",radius:"9",color:"#155aaf",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})})}},823:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var i=s(439),r=s(791),a=s(686),n=s.n(a),o=s(458),l=s(87),u=s(223),c=s(184),_=function(e){var t,s=e.changeKeyWord,a=(0,l.lr)(),n=(0,i.Z)(a,2),o=n[0],_=n[1],m=(0,r.useState)(null!==(t=o.get("query"))&&void 0!==t?t:""),d=(0,i.Z)(m,2),v=d[0],h=d[1],y=(0,r.useRef)(v);(0,r.useEffect)((function(){s(y.current)}),[s,y]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==v.trim()&&(_({query:"".concat(v.trim())}),s(v.trim())),""===v&&(_({}),s("       "))},children:[(0,c.jsx)("input",{className:u.Z.input,value:v,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie...",onChange:function(e){h(e.target.value)}}),(0,c.jsx)("button",{type:"submit",className:u.Z.submitBtn,children:(0,c.jsx)("span",{children:"Search"})})]})})},m=s(689),d=function(e){var t=e.moviesList,s=(0,m.TH)();return(0,c.jsx)("ul",{children:t.map((function(e){return(0,c.jsx)(l.rU,{to:"".concat(e.id),className:u.Z.list,state:{from:s},children:(0,c.jsx)("li",{className:u.Z.movieListLi,children:e.original_title})},e.id)}))})},v=s(861),h=s(757),y=s.n(h),f=s(7),p=s.n(f);function L(e){return x.apply(this,arguments)}function x(){return(x=(0,v.Z)(y().mark((function e(t){var i,r,a,n,o,l,u,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.keyWord,r=s(359),a="https://api.themoviedb.org/3/search/movie?query=".concat(i,"&include_adult=false&language=en-US&page=1"),n={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxYzEwMmU2NmJiY2ZkMmYwMmRlNTY3YzJiMDQxODcxMiIsInN1YiI6IjY0ZTQ5M2FiYzYxM2NlMDEyY2MzNDc4NSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.zwn48HYRW6JBDoSyF18YL5jL3b-LREwgJBhEoBSNLEo"}},e.prev=4,e.next=7,r(a,n);case 7:return o=e.sent,e.next=10,o.json();case 10:return l=e.sent,u=l.results,c=l.total_results,e.abrupt("return",{moviesList:u,total:c});case 16:return e.prev=16,e.t0=e.catch(4),e.abrupt("return",console.error("error:"+e.t0));case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}L.propTypes={keyWord:p().string};var C=function(){var e=(0,r.useState)(""),t=(0,i.Z)(e,2),s=t[0],a=t[1],l=(0,r.useState)(!1),u=(0,i.Z)(l,2),m=u[0],v=u[1],h=(0,r.useState)([]),y=(0,i.Z)(h,2),f=y[0],p=y[1];(0,r.useEffect)((function(){""!==s?(v(!0),L({keyWord:s}).then((function(e){var t=e.moviesList;0===e.total?(p([]),n().Notify.failure("Sorry, there are no movies matching your search query. Please try again.")):p(t)})).finally((function(){v(!1)}))):p([])}),[s]);return(0,c.jsxs)("div",{children:[(0,c.jsx)(_,{changeKeyWord:function(e){" "===e&&console.log("empty",e),a(e)}}),m&&(0,c.jsx)(o.Z,{}),!m&&(0,c.jsx)(d,{moviesList:f})]})}},223:function(e,t){t.Z={container:"styles_container__Zfxdj",list:"styles_list__+i54u",link:"styles_link__E2HOR",button:"styles_button__5bLG7",header:"styles_header__vIO73",headerNav:"styles_headerNav__KQB-e",headerNavBtn:"styles_headerNavBtn__OWPnr",headerNavBtnLeft:"styles_headerNavBtnLeft__9QR8n",logo:"styles_logo__+xGCo",movieListLi:"styles_movieListLi__eoopF",input:"styles_input__928Sc",submitBtn:"styles_submitBtn__5weso",movieCard:"styles_movieCard__sGqUN",movieCardFlex:"styles_movieCardFlex__xkU7+",movieCardParams:"styles_movieCardParams__g32TZ",movieCardLinkList:"styles_movieCardLinkList__pbFVH",movieCardLinkListA:"styles_movieCardLinkListA__nhawe",movieAdditionalInfo:"styles_movieAdditionalInfo__x2+4C",movieCastList:"styles_movieCastList__2MQf+",movieCastListLi:"styles_movieCastListLi__8dUsi",movieCastListLiDiv:"styles_movieCastListLiDiv__nNQia",headerBtnGoBack:"styles_headerBtnGoBack__m8O7B",movieCardFlex2:"styles_movieCardFlex2__NasuU",loader:"styles_loader__RuL2j"}}}]);
//# sourceMappingURL=823.b79a0b9f.chunk.js.map